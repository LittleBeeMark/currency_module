
# 组件并发模式

> 代码是按真实业务需求抽象出来的，用户添加一个域名或是一个ip段的范围为一个主任务，主任务下将通过ip端口来拆分子任务，对IP端口进行握手获取证书及一些加密协议套件，ocsp 信息等等。
> 当然主要的业务逻辑是伪代码，主要是看如何使用组件模式来控制并发，管控子任务，子任务又有两个处理模式，一个是快速检查，一个是全量检查。


## 什么是「组件模式」？

> 一个具有层级关系的对象由一系列拥有父子关系的对象通过树形结构组成。

组合模式的优势：

- 所见即所码：你所看见的代码结构就是业务真实的层级关系，比如Ui界面你真实看到的那样。
- 高度封装：单一职责。
- 可复用：不同业务场景，相同的组件可被重复使用。

## 什么真实业务场景可以用「组合模式」？

满足如下要求的所有场景:

> Get请求获取页面数据的所有接口

前端大行组件化的当今，我们在写后端接口代码的时候还是按照业务思路一头写到尾吗？我们是否可以思索，「后端接口业务代码如何可以简单快速组件化？」，答案是肯定的，这就是「组合模式」的作用。

我们利用「组合模式」的定义和前端模块的划分去构建后端业务代码结构：

- 前端单个模块 -> 对应后端：具体单个类 -> 封装的过程
- 前端模块父子组件 -> 对应后端：父类内部持有多个子类(非继承关系，合成复用关系) -> 父子关系的树形结构

* 该组件并发模式的例子是我更具我们业务中的一个逻辑抽离出来的，该业务逻辑是，给你一个IP网段的范围，通过范围获取所有IP并进行快速检测和全量检测两种检测
